
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Workflow examples - Valsys</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workflow-examples" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Valsys" class="md-header__button md-logo" aria-label="Valsys" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Valsys
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workflow examples
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Valsys" class="md-nav__button md-logo" aria-label="Valsys" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Valsys
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Command line interface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exposedFunctions/" class="md-nav__link">
        Exposed modeling functions
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Workflow examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Workflow examples
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spawn-a-model" class="md-nav__link">
    Spawn a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#append-tags-to-an-existing-model" class="md-nav__link">
    Append tags to an existing model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#share-a-model" class="md-nav__link">
    Share a model
  </a>
  
    <nav class="md-nav" aria-label="Share a model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with-a-single-user" class="md-nav__link">
    With a single user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-multiple-user-and-different-permissions" class="md-nav__link">
    With multiple user and different permissions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtain-module-information-for-a-model" class="md-nav__link">
    Obtain module information for a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-child-module-to-existing-module" class="md-nav__link">
    Add child module to existing module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-line-item-to-a-module" class="md-nav__link">
    Add line item to a module
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#spawn-a-model" class="md-nav__link">
    Spawn a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#append-tags-to-an-existing-model" class="md-nav__link">
    Append tags to an existing model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#share-a-model" class="md-nav__link">
    Share a model
  </a>
  
    <nav class="md-nav" aria-label="Share a model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with-a-single-user" class="md-nav__link">
    With a single user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-multiple-user-and-different-permissions" class="md-nav__link">
    With multiple user and different permissions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtain-module-information-for-a-model" class="md-nav__link">
    Obtain module information for a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-child-module-to-existing-module" class="md-nav__link">
    Add child module to existing module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-line-item-to-a-module" class="md-nav__link">
    Add line item to a module
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="workflow-examples">Workflow examples</h1>
<p>This is a collection of examples of how to use the Valsys library.</p>
<h2 id="spawn-a-model">Spawn a model</h2>
<p>This workflow allows a model to be spawned from a template.</p>
<p>In the below example, we show how to spawn a <code>SBUX</code> model and obtain its model <code>uid</code>. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># Import the spawn_model function from the spawn service</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">valsys.spawn.service</span> <span class="kn">import</span> <span class="n">spawn_from_config</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="c1"># Define the model seed configuration data</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="n">seed_config</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="s1">&#39;templateName&#39;</span><span class="p">:</span> <span class="s1">&#39;dcf-standard&#39;</span><span class="p">,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="s1">&#39;numForecastYears&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="s1">&#39;numHistoricalYears&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>    <span class="s1">&#39;tickers&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;SBUX&#39;</span><span class="p">,</span> <span class="s1">&#39;BYND&#39;</span><span class="p">]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="p">}</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="n">spawned_models</span> <span class="o">=</span> <span class="n">spawn_from_config</span><span class="p">(</span><span class="n">seed_config</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="c1"># Extract a list of modelID/tickers from the spawned model data</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="n">models</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;modelID&#39;</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">model_id</span><span class="p">,</span> <span class="s1">&#39;ticker&#39;</span><span class="p">:</span> <span class="n">p</span><span class="o">.</span><span class="n">ticker</span><span class="p">}</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">spawned_models</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<p>If the <code>templateName</code> is incorrectly entered (e.g., typo, or something that doesnt exist), a <code>TemplateNotFoundException</code> is thrown explaining 
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>TemplateNotFoundException: template not found for template_name: dcf-standard2
</code></pre></div></p>
<p>Below is a screenshot from a jupyter notebook of exactly this process, the output, and a printout of the <code>models</code> built information.</p>
<blockquote>
<p><img alt="" src="../images/spawn.png" title="Model spawning" /></p>
</blockquote>
<h2 id="append-tags-to-an-existing-model">Append tags to an existing model</h2>
<p>Tags can be added or appended to existing models; this assumes knowledge of the models <code>uid</code>.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1"># Import the append_tags function from the modeling service</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">append_tags</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1"># Define the models uid</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="n">model_uid</span> <span class="o">=</span> <span class="s2">&quot;0xe50deb&quot;</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="c1"># Define the tags to be appended to the model</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="n">tags_to_append</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;t5&quot;</span><span class="p">,</span> <span class="s2">&quot;t4&quot;</span><span class="p">]</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="c1"># Append the tags</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="n">append_tags</span><span class="p">(</span><span class="n">model_uid</span><span class="p">,</span> <span class="n">tags_to_append</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="share-a-model">Share a model</h2>
<p>The API allows a model to be shared to another user. This is done by referencing the modelsID, the email of the user the model is to be shared with, and the permissions that the user will have over the model.</p>
<h3 id="with-a-single-user">With a single user</h3>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># Import the share_model function from the modeling service</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">share_model</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="c1"># Import the permissions types </span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="kn">from</span> <span class="nn">valsys.modeling.models</span> <span class="kn">import</span> <span class="n">Permissions</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="c1"># Define the models uid</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="n">model_uid</span> <span class="o">=</span> <span class="s2">&quot;0xe50deb&quot;</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="c1"># Define the email of the user the model is to be shared with</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="n">email_to_share_to</span> <span class="o">=</span> <span class="s2">&quot;jack.fuller@valsys.io&quot;</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="c1"># Define the permissions for the user</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="n">permission</span> <span class="o">=</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">VIEW</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="c1"># Share the model</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="n">share_model</span><span class="p">(</span><span class="n">model_uid</span><span class="p">,</span> <span class="n">email_to_share_to</span><span class="p">,</span> <span class="n">permission</span><span class="o">=</span><span class="n">permission</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
A model can only be shared with a given user once. Violating this will result in a <code>ShareModelException</code>.</p>
<h3 id="with-multiple-user-and-different-permissions">With multiple user and different permissions</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1"># Import the share_model function from the modeling service</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">share_model</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="c1"># Import the permissions types </span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="kn">from</span> <span class="nn">valsys.modeling.models</span> <span class="kn">import</span> <span class="n">Permissions</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="c1"># Define the models uid</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="n">model_uid</span> <span class="o">=</span> <span class="s2">&quot;0xe50deb&quot;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="c1"># Define the list of emails of the users the model is to be shared with;</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="c1"># note that we are allowed to put different permissions per user.</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="n">users</span> <span class="o">=</span> <span class="p">[</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>    <span class="p">(</span><span class="s2">&quot;jack.fuller@valsys.io&quot;</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">VIEW</span><span class="p">),</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>    <span class="p">(</span><span class="s2">&quot;simon.bessey@valsys.io&quot;</span><span class="p">,</span> <span class="n">Permissions</span><span class="o">.</span><span class="n">EDIT</span><span class="p">)</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="p">]</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="c1"># Share the model</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="k">for</span> <span class="n">email</span><span class="p">,</span> <span class="n">permission</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a>    <span class="n">share_model</span><span class="p">(</span><span class="n">model_uid</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">permission</span><span class="o">=</span><span class="n">permission</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="obtain-module-information-for-a-model">Obtain module information for a model</h2>
<p>It will be common to need module information: for example, moduleIDs.</p>
<p>This workflow shows how to obtain the module meta data for a model. Crucially, this shows the module hierarchy, as well as the module IDs and names.</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span>
<span class="normal"><a href="#__codelineno-5-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">pull_model_information</span><span class="p">,</span> <span class="n">pull_case</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="n">model_uid</span> <span class="o">=</span> <span class="s2">&quot;0xe50deb&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="n">first_case_info</span> <span class="o">=</span> <span class="n">pull_model_information</span><span class="p">(</span><span class="n">model_uid</span><span class="p">)</span><span class="o">.</span><span class="n">first</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="n">case</span> <span class="o">=</span> <span class="n">pull_case</span><span class="p">(</span><span class="n">first_case_info</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="n">module_info</span> <span class="o">=</span> <span class="n">case</span><span class="o">.</span><span class="n">module_meta</span>
</code></pre></div></td></tr></table></div>
will result in <code>module_info</code> being something like
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span>
<span class="normal"><a href="#__codelineno-6-25">25</a></span>
<span class="normal"><a href="#__codelineno-6-26">26</a></span>
<span class="normal"><a href="#__codelineno-6-27">27</a></span>
<span class="normal"><a href="#__codelineno-6-28">28</a></span>
<span class="normal"><a href="#__codelineno-6-29">29</a></span>
<span class="normal"><a href="#__codelineno-6-30">30</a></span>
<span class="normal"><a href="#__codelineno-6-31">31</a></span>
<span class="normal"><a href="#__codelineno-6-32">32</a></span>
<span class="normal"><a href="#__codelineno-6-33">33</a></span>
<span class="normal"><a href="#__codelineno-6-34">34</a></span>
<span class="normal"><a href="#__codelineno-6-35">35</a></span>
<span class="normal"><a href="#__codelineno-6-36">36</a></span>
<span class="normal"><a href="#__codelineno-6-37">37</a></span>
<span class="normal"><a href="#__codelineno-6-38">38</a></span>
<span class="normal"><a href="#__codelineno-6-39">39</a></span>
<span class="normal"><a href="#__codelineno-6-40">40</a></span>
<span class="normal"><a href="#__codelineno-6-41">41</a></span>
<span class="normal"><a href="#__codelineno-6-42">42</a></span>
<span class="normal"><a href="#__codelineno-6-43">43</a></span>
<span class="normal"><a href="#__codelineno-6-44">44</a></span>
<span class="normal"><a href="#__codelineno-6-45">45</a></span>
<span class="normal"><a href="#__codelineno-6-46">46</a></span>
<span class="normal"><a href="#__codelineno-6-47">47</a></span>
<span class="normal"><a href="#__codelineno-6-48">48</a></span>
<span class="normal"><a href="#__codelineno-6-49">49</a></span>
<span class="normal"><a href="#__codelineno-6-50">50</a></span>
<span class="normal"><a href="#__codelineno-6-51">51</a></span>
<span class="normal"><a href="#__codelineno-6-52">52</a></span>
<span class="normal"><a href="#__codelineno-6-53">53</a></span>
<span class="normal"><a href="#__codelineno-6-54">54</a></span>
<span class="normal"><a href="#__codelineno-6-55">55</a></span>
<span class="normal"><a href="#__codelineno-6-56">56</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="p">[</span><span class="w"></span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DCF&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50c46&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Balance Sheet&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">                </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50dbd&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">                </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">                    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Equity&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="w">                        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50cd3&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a><span class="w">                        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a><span class="w">                    </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a><span class="w">                    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a><span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Liabilities&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a><span class="w">                        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50d22&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a><span class="w">                        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a><span class="w">                    </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a><span class="w">                </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a><span class="w">            </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DCF Drivers&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a><span class="w">                </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50fe6&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-25" name="__codelineno-6-25"></a><span class="w">                </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="w">            </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-27" name="__codelineno-6-27"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Income Statement&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-29" name="__codelineno-6-29"></a><span class="w">                </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe510a8&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-30" name="__codelineno-6-30"></a><span class="w">                </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-6-31" name="__codelineno-6-31"></a><span class="w">                    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-32" name="__codelineno-6-32"></a><span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Earnings Per Share&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-33" name="__codelineno-6-33"></a><span class="w">                        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50c5f&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-34" name="__codelineno-6-34"></a><span class="w">                        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-35" name="__codelineno-6-35"></a><span class="w">                    </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-36" name="__codelineno-6-36"></a><span class="w">                    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-37" name="__codelineno-6-37"></a><span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Operating Income&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-38" name="__codelineno-6-38"></a><span class="w">                        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50cf8&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-39" name="__codelineno-6-39"></a><span class="w">                        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-40" name="__codelineno-6-40"></a><span class="w">                    </span><span class="p">},</span><span class="w"> </span>
<a id="__codelineno-6-41" name="__codelineno-6-41"></a><span class="w">                </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-6-42" name="__codelineno-6-42"></a><span class="w">            </span><span class="p">},</span><span class="w"></span>
<a id="__codelineno-6-43" name="__codelineno-6-43"></a><span class="w">            </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-44" name="__codelineno-6-44"></a><span class="w">                </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cash Flow statement&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-45" name="__codelineno-6-45"></a><span class="w">                </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe51235&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-46" name="__codelineno-6-46"></a><span class="w">                </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<a id="__codelineno-6-47" name="__codelineno-6-47"></a><span class="w">                    </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-6-48" name="__codelineno-6-48"></a><span class="w">                        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cash Flow From Operating Activities&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-49" name="__codelineno-6-49"></a><span class="w">                        </span><span class="nt">&quot;uid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xe50c1b&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-6-50" name="__codelineno-6-50"></a><span class="w">                        </span><span class="nt">&quot;children&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<a id="__codelineno-6-51" name="__codelineno-6-51"></a><span class="w">                    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-52" name="__codelineno-6-52"></a><span class="w">                </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-6-53" name="__codelineno-6-53"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-54" name="__codelineno-6-54"></a><span class="w">        </span><span class="p">]</span><span class="w"></span>
<a id="__codelineno-6-55" name="__codelineno-6-55"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-6-56" name="__codelineno-6-56"></a><span class="p">]</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
Note that the nested structure highlights the modules parent-child relationship. Each modules <code>name</code>, <code>uid</code>, and <code>children</code> modules are returned.</p>
<h2 id="add-child-module-to-existing-module">Add child module to existing module</h2>
<p>Adding a child module requires knowledge of the parent modules <code>uid</code>.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1"># Import the add_child_module function from the modeling service</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">add_child_module</span><span class="p">,</span> <span class="n">pull_model_information</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="c1"># Define the model id</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="n">model_id</span> <span class="o">=</span> <span class="s1">&#39;0xe50deb&#39;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="c1"># Define the id of the parent module</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="n">parent_module_id</span> <span class="o">=</span> <span class="s1">&#39;0xe51235&#39;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="c1"># Define the name of the new module</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="n">new_module_name</span> <span class="o">=</span> <span class="s1">&#39;new module&#39;</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="c1"># Go get the case uid for the model</span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="n">case_id</span> <span class="o">=</span> <span class="n">pull_model_information</span><span class="p">(</span><span class="n">model_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">uid</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="c1"># Use the above data to add a child module</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="n">new_module</span> <span class="o">=</span> <span class="n">add_child_module</span><span class="p">(</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a>    <span class="n">parent_module_id</span> <span class="o">=</span> <span class="n">parent_module_id</span><span class="p">,</span> 
<a id="__codelineno-7-19" name="__codelineno-7-19"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">new_module_name</span><span class="p">,</span> 
<a id="__codelineno-7-20" name="__codelineno-7-20"></a>    <span class="n">model_id</span> <span class="o">=</span> <span class="n">model_id</span><span class="p">,</span> 
<a id="__codelineno-7-21" name="__codelineno-7-21"></a>    <span class="n">case_id</span> <span class="o">=</span> <span class="n">case_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="add-line-item-to-a-module">Add line item to a module</h2>
<p>This workflow allows a line item to be added to an existing module; it requires knowledge of the <code>modelID</code>, and <code>moduleID</code>. One must provide the <code>name</code> of the new line item, and the <code>order</code> of the line item in the module.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="c1"># Import the add_line_item function from the modeling service</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="kn">from</span> <span class="nn">valsys.modeling.service</span> <span class="kn">import</span> <span class="n">add_line_item</span><span class="p">,</span> <span class="n">pull_model_information</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="c1"># Define the modelID</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="n">model_id</span> <span class="o">=</span> <span class="s1">&#39;0xe50deb&#39;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="c1"># Define the module ID of the module the line item is to be added to</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="n">module_id</span> <span class="o">=</span> <span class="s1">&#39;0xe51235&#39;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="c1"># Define the name of the new line item</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="n">line_item_name</span> <span class="o">=</span> <span class="s1">&#39;new line item&#39;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="c1"># Define the order in the module of the new line item</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="n">line_item_order</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="c1"># Get the caseID from the modelID</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="n">case_id</span> <span class="o">=</span> <span class="n">pull_model_information</span><span class="p">(</span><span class="n">model_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">uid</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="c1"># Add the new line item, which returns a new line line object.</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="n">new_line_item</span> <span class="o">=</span> <span class="n">add_line_item</span><span class="p">(</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a>    <span class="n">model_id</span> <span class="o">=</span> <span class="n">model_id</span><span class="p">,</span> 
<a id="__codelineno-8-22" name="__codelineno-8-22"></a>    <span class="n">case_id</span> <span class="o">=</span> <span class="n">case_id</span><span class="p">,</span> 
<a id="__codelineno-8-23" name="__codelineno-8-23"></a>    <span class="n">module_id</span> <span class="o">=</span> <span class="n">module_id</span><span class="p">,</span> 
<a id="__codelineno-8-24" name="__codelineno-8-24"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">line_item_name</span><span class="p">,</span> 
<a id="__codelineno-8-25" name="__codelineno-8-25"></a>    <span class="n">order</span> <span class="o">=</span> <span class="n">line_item_order</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
Note that adding the same line item multiple times will result in an error.</p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../exposedFunctions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Exposed modeling functions" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Exposed modeling functions
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>